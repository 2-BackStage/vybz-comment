# VYBZ Comment Service

VYBZ í”Œë«í¼ì˜ ëŒ“ê¸€ ê¸°ëŠ¥ì„ ë‹´ë‹¹í•˜ëŠ” ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.

## ğŸ“‹ ëª©ì°¨

-   [ê°œìš”](#ê°œìš”)
-   [ê¸°ìˆ  ìŠ¤íƒ](#ê¸°ìˆ -ìŠ¤íƒ)
-   [ì£¼ìš” ê¸°ëŠ¥](#ì£¼ìš”-ê¸°ëŠ¥)
-   [í”„ë¡œì íŠ¸ êµ¬ì¡°](#í”„ë¡œì íŠ¸-êµ¬ì¡°)
-   [API ë¬¸ì„œ](#api-ë¬¸ì„œ)
-   [ì„¤ì¹˜ ë° ì‹¤í–‰](#ì„¤ì¹˜-ë°-ì‹¤í–‰)
-   [í™˜ê²½ ì„¤ì •](#í™˜ê²½-ì„¤ì •)
-   [ëŒ“ê¸€ ì‹œìŠ¤í…œ](#ëŒ“ê¸€-ì‹œìŠ¤í…œ)
-   [ì´ë²¤íŠ¸ ì²˜ë¦¬](#ì´ë²¤íŠ¸-ì²˜ë¦¬)

## ğŸ¯ ê°œìš”

VYBZ Comment ServiceëŠ” ë‹¤ìŒê³¼ ê°™ì€ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤:

-   **ëŒ“ê¸€ ì‘ì„±**: í”¼ë“œ/ê³µì§€ ë“±ì— ëŒ“ê¸€ ì‘ì„±
-   **ëŒ“ê¸€ ìˆ˜ì •**: ì‘ì„±í•œ ëŒ“ê¸€ ìˆ˜ì •
-   **ëŒ“ê¸€ ì‚­ì œ**: ì‘ì„±í•œ ëŒ“ê¸€ ì‚­ì œ
-   **ëŒ€ëŒ“ê¸€ ì§€ì›**: ë¶€ëª¨ ëŒ“ê¸€ì— ëŒ€í•œ ëŒ€ëŒ“ê¸€ ì‘ì„±
-   **ì´ë²¤íŠ¸ ì²˜ë¦¬**: Kafkaë¥¼ í†µí•œ ëŒ“ê¸€ ì´ë²¤íŠ¸ ë°œí–‰
-   **ë°ì´í„° ì €ì¥**: MongoDBë¥¼ í†µí•œ ëŒ“ê¸€ ë°ì´í„° ì €ì¥
-   **ì„œë¹„ìŠ¤ ë””ìŠ¤ì»¤ë²„ë¦¬**: Eureka Clientë¥¼ í†µí•œ ì„œë¹„ìŠ¤ ë“±ë¡

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ

### Backend

![Spring Cloud](https://img.shields.io/badge/Spring_Cloud-6DB33F?style=for-the-badge&logo=spring&logoColor=white)
![Java](https://img.shields.io/badge/Java-007396?style=for-the-badge&logo=openjdk&logoColor=white)
![Spring Boot](https://img.shields.io/badge/Spring_Boot-6DB33F?style=for-the-badge&logo=springboot&logoColor=white)
![MongoDB](https://img.shields.io/badge/MongoDB-47A248?style=for-the-badge&logo=mongodb&logoColor=white)
![Apache Kafka](https://img.shields.io/badge/Apache_Kafka-231F20?style=for-the-badge&logo=apachekafka&logoColor=white)
![Swagger](https://img.shields.io/badge/Swagger-85EA2D?style=for-the-badge&logo=swagger&logoColor=black)
![Gradle](https://img.shields.io/badge/Gradle-02303A?style=for-the-badge&logo=gradle&logoColor=white)

### Infra

![GitHub Actions](https://img.shields.io/badge/GitHub_Actions-2088FF?style=for-the-badge&logo=githubactions&logoColor=white)
![Amazon EC2](https://img.shields.io/badge/Amazon_EC2-FF9900?style=for-the-badge&logo=amazonaws&logoColor=white)
![Docker](https://img.shields.io/badge/Docker-2496ED?style=for-the-badge&logo=docker&logoColor=white)

### í˜‘ì—…

![Discord](https://img.shields.io/badge/Discord-5865F2?style=for-the-badge&logo=discord&logoColor=white)
![Notion](https://img.shields.io/badge/Notion-000000?style=for-the-badge&logo=notion&logoColor=white)
![Git](https://img.shields.io/badge/Git-F05032?style=for-the-badge&logo=git&logoColor=white)

### Database & Cache

-   **MongoDB**: ëŒ“ê¸€ ë°ì´í„° ì €ì¥ ë° ê´€ë¦¬

### Message Queue

-   **Apache Kafka**: ë¹„ë™ê¸° ì´ë²¤íŠ¸ ì²˜ë¦¬

### Documentation

-   **Swagger/OpenAPI 3.0**: API ë¬¸ì„œí™”

### Build & Deploy

-   **Gradle**: ë¹Œë“œ ë„êµ¬
-   **Docker**: ì»¨í…Œì´ë„ˆí™”

## ğŸš€ ì£¼ìš” ê¸°ëŠ¥

### 1. ëŒ“ê¸€ ê´€ë¦¬ ì‹œìŠ¤í…œ

-   **ëŒ“ê¸€ ì‘ì„±**: í”¼ë“œ/ê³µì§€ ë“±ì— ëŒ“ê¸€ ì‘ì„±
-   **ëŒ“ê¸€ ìˆ˜ì •**: ì‘ì„±í•œ ëŒ“ê¸€ ìˆ˜ì • (ì‘ì„±ìë§Œ ê°€ëŠ¥)
-   **ëŒ“ê¸€ ì‚­ì œ**: ì‘ì„±í•œ ëŒ“ê¸€ ì‚­ì œ (ì‘ì„±ìë§Œ ê°€ëŠ¥)
-   **ëŒ€ëŒ“ê¸€ ì§€ì›**: ë¶€ëª¨ ëŒ“ê¸€ì— ëŒ€í•œ ëŒ€ëŒ“ê¸€ ì‘ì„±
-   **ê¶Œí•œ ê²€ì¦**: ëŒ“ê¸€ ìˆ˜ì •/ì‚­ì œ ì‹œ ì‘ì„±ì ê¶Œí•œ í™•ì¸

### 2. í”¼ë“œ íƒ€ì… ì§€ì›

-   **REELS**: ë¦´ìŠ¤ í”¼ë“œ
-   **NOTICE**: ê³µì§€ì‚¬í•­
-   **ABOUT**: ì†Œê°œ
-   **FAN_FEED**: íŒ¬ í”¼ë“œ

### 3. ì‘ì„±ì íƒ€ì… ì§€ì›

-   **USER**: ì¼ë°˜ ì‚¬ìš©ì
-   **BUSKER**: ë²„ìŠ¤ì»¤

### 4. ì´ë²¤íŠ¸ ì²˜ë¦¬

-   **ëŒ“ê¸€ ìƒì„± ì´ë²¤íŠ¸**: ëŒ“ê¸€ ì‘ì„± ì‹œ ì´ë²¤íŠ¸ ë°œí–‰
-   **ëŒ“ê¸€ ìˆ˜ì • ì´ë²¤íŠ¸**: ëŒ“ê¸€ ìˆ˜ì • ì‹œ ì´ë²¤íŠ¸ ë°œí–‰
-   **ëŒ“ê¸€ ì‚­ì œ ì´ë²¤íŠ¸**: ëŒ“ê¸€ ì‚­ì œ ì‹œ ì´ë²¤íŠ¸ ë°œí–‰
-   **ëŒ“ê¸€ ì¦ê° ì´ë²¤íŠ¸**: ëŒ“ê¸€ ìˆ˜ ì¦ê° ì´ë²¤íŠ¸ ë°œí–‰

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
src/main/java/back/vybz/comment_service/
â”œâ”€â”€ common/                    # ê³µí†µ ëª¨ë“ˆ
â”‚   â”œâ”€â”€ config/               # ì„¤ì • í´ë˜ìŠ¤ë“¤
â”‚   â”‚   â”œâ”€â”€ MongoConfig.java
â”‚   â”‚   â”œâ”€â”€ ObjectMapperConfig.java
â”‚   â”‚   â””â”€â”€ SwaggerConfig.java
â”‚   â”œâ”€â”€ entity/               # ê³µí†µ ì—”í‹°í‹°
â”‚   â”‚   â”œâ”€â”€ BaseResponseEntity.java
â”‚   â”‚   â””â”€â”€ BaseResponseStatus.java
â”‚   â”œâ”€â”€ exception/            # ì˜ˆì™¸ ì²˜ë¦¬
â”‚   â”‚   â”œâ”€â”€ AsyncExceptionHandler.java
â”‚   â”‚   â”œâ”€â”€ BaseException.java
â”‚   â”‚   â”œâ”€â”€ BaseExceptionHandler.java
â”‚   â”‚   â”œâ”€â”€ BaseExceptionHandlerFilter.java
â”‚   â”‚   â””â”€â”€ BaseResponseStatus.java
â”‚   â””â”€â”€ util/                 # ìœ í‹¸ë¦¬í‹°
â”‚       â””â”€â”€ CursorPage.java
â”œâ”€â”€ kafka/                    # Kafka ì´ë²¤íŠ¸ ì²˜ë¦¬
â”‚   â”œâ”€â”€ config/               # Kafka ì„¤ì •
â”‚   â”‚   â”œâ”€â”€ CommentCreateEventKafkaConfig.java
â”‚   â”‚   â”œâ”€â”€ CommentDeleteEventKafkaConfig.java
â”‚   â”‚   â”œâ”€â”€ CommentDeltaEventKafkaConfig.java
â”‚   â”‚   â”œâ”€â”€ CommentUpdateEventKafkaConfig.java
â”‚   â”‚   â””â”€â”€ CommonKafkaProducerConfig.java
â”‚   â”œâ”€â”€ event/                # ì´ë²¤íŠ¸ ëª¨ë¸
â”‚   â”‚   â”œâ”€â”€ CommentCreateEvent.java
â”‚   â”‚   â”œâ”€â”€ CommentDeleteEvent.java
â”‚   â”‚   â”œâ”€â”€ CommentDeltaEvent.java
â”‚   â”‚   â””â”€â”€ CommentUpdateEvent.java
â”‚   â””â”€â”€ producer/             # ì´ë²¤íŠ¸ í”„ë¡œë“€ì„œ
â”‚       â”œâ”€â”€ CommentCreateEventKafkaProducer.java
â”‚       â”œâ”€â”€ CommentDeleteEventKafkaProducer.java
â”‚       â”œâ”€â”€ CommentDeltaEventKafkaProducer.java
â”‚       â””â”€â”€ CommentUpdateEventKafkaProducer.java
â”œâ”€â”€ comment/                  # ëŒ“ê¸€ ë„ë©”ì¸
â”‚   â”œâ”€â”€ application/          # ëŒ“ê¸€ ì„œë¹„ìŠ¤ ë¡œì§
â”‚   â”‚   â”œâ”€â”€ CommentService.java
â”‚   â”‚   â””â”€â”€ CommentServiceImpl.java
â”‚   â”œâ”€â”€ domain/               # ëŒ“ê¸€ ë„ë©”ì¸ ëª¨ë¸
â”‚   â”‚   â”œâ”€â”€ mongodb/
â”‚   â”‚   â”‚   â”œâ”€â”€ Comment.java
â”‚   â”‚   â”‚   â”œâ”€â”€ FeedType.java
â”‚   â”‚   â”‚   â””â”€â”€ WriterType.java
â”‚   â”œâ”€â”€ dto/                  # ëŒ“ê¸€ DTO
â”‚   â”‚   â”œâ”€â”€ request/
â”‚   â”‚   â”‚   â”œâ”€â”€ RequestAddCommentDto.java
â”‚   â”‚   â”‚   â””â”€â”€ RequestUpdateCommentDto.java
â”‚   â”‚   â””â”€â”€ response/
â”‚   â”‚       â””â”€â”€ ResponseAddCommentDto.java
â”‚   â”œâ”€â”€ infrastructure/       # ëŒ“ê¸€ ë¦¬í¬ì§€í† ë¦¬
â”‚   â”‚   â”œâ”€â”€ CommentRepository.java
â”‚   â”‚   â”œâ”€â”€ CommentRepositoryCustom.java
â”‚   â”‚   â””â”€â”€ CommentRepositoryCustomImpl.java
â”‚   â”œâ”€â”€ presentation/         # ëŒ“ê¸€ ì»¨íŠ¸ë¡¤ëŸ¬
â”‚   â”‚   â””â”€â”€ CommentController.java
â”‚   â””â”€â”€ vo/                   # ëŒ“ê¸€ VO
â”‚       â”œâ”€â”€ request/
â”‚       â”‚   â”œâ”€â”€ RequestAddCommentVo.java
â”‚       â”‚   â””â”€â”€ RequestUpdateCommentVo.java
â””â”€â”€ CommentServiceApplication.java
```

## ğŸ“š API ë¬¸ì„œ

Swagger UIë¥¼ í†µí•´ API ë¬¸ì„œë¥¼ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤:

-   **URL**: `http://localhost:8000/comment-service/swagger-ui/index.html`
-   **API ê·¸ë£¹**: COMMENT-SERVICE

### ì£¼ìš” API ì—”ë“œí¬ì¸íŠ¸

#### ëŒ“ê¸€ ê´€ë¦¬ API

-   `POST /api/v1/comment` - ëŒ“ê¸€ ì‘ì„±
-   `PUT /api/v1/comment/{commentId}` - ëŒ“ê¸€ ìˆ˜ì •
-   `DELETE /api/v1/comment/{commentId}` - ëŒ“ê¸€ ì‚­ì œ

### API ìš”ì²­/ì‘ë‹µ ì˜ˆì‹œ

#### ëŒ“ê¸€ ì‘ì„± ìš”ì²­

```json
{
    "feedId": "feed-uuid-123",
    "feedType": "REELS",
    "writerUuid": "user-uuid-456",
    "writerType": "USER",
    "comment": "ì •ë§ ë©‹ì§„ ë¦´ìŠ¤ë„¤ìš”!",
    "parentCommentId": null
}
```

#### ëŒ“ê¸€ ìˆ˜ì • ìš”ì²­

```json
{
    "writerUuid": "user-uuid-456",
    "comment": "ìˆ˜ì •ëœ ëŒ“ê¸€ ë‚´ìš©ì…ë‹ˆë‹¤."
}
```

## ğŸš€ ì„¤ì¹˜ ë° ì‹¤í–‰

### 1. ì‚¬ì „ ìš”êµ¬ì‚¬í•­

-   Java 17
-   Gradle 8.4+
-   Docker (ì„ íƒì‚¬í•­)
-   MongoDB 6.0+
-   Kafka 3.0+

### 2. ë¡œì»¬ ì‹¤í–‰

```bash
# í”„ë¡œì íŠ¸ í´ë¡ 
git clone <repository-url>
cd vybz-comment

# Gradle ë¹Œë“œ
./gradlew clean build

# ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹¤í–‰
./gradlew bootRun
```

### 3. Docker ì‹¤í–‰

```bash
# Docker ì´ë¯¸ì§€ ë¹Œë“œ
docker build -t vybz-comment .

# Docker ì»¨í…Œì´ë„ˆ ì‹¤í–‰
docker run -p 8000:8000 vybz-comment
```

## âš™ï¸ í™˜ê²½ ì„¤ì •

### ì£¼ìš” ì„¤ì • íŒŒì¼

-   `application.yml`: ê¸°ë³¸ ì„¤ì •

### í™˜ê²½ ë³€ìˆ˜

```yaml
# MongoDB ì„¤ì •
spring:
  data:
    mongodb:
      uri: mongodb://${MONGO_USERNAME}:${MONGO_PASSWORD}@${MONGO_HOST}:${MONGO_PORT}/${MONGO_DATABASE}?authSource=admin&replicaSet=myReplicaSet

  kafka:
    bootstrap-servers: ${KAFKA_SERVERS}
```

## ğŸ’¬ ëŒ“ê¸€ ì‹œìŠ¤í…œ

#### í”¼ë“œ íƒ€ì… (FeedType)

-   **REELS**: ë¦´ìŠ¤ í”¼ë“œ
-   **NOTICE**: ê³µì§€ì‚¬í•­
-   **ABOUT**: ì†Œê°œ
-   **FAN_FEED**: íŒ¬ í”¼ë“œ

#### ì‘ì„±ì íƒ€ì… (WriterType)

-   **USER**: ì¼ë°˜ ì‚¬ìš©ì
-   **BUSKER**: ë²„ìŠ¤ì»¤

### ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„

#### ì»¤ìŠ¤í…€ ì¿¼ë¦¬

```java
// ëŒ“ê¸€ ìˆ˜ì •ì„ ìœ„í•œ ì»¤ìŠ¤í…€ ì¿¼ë¦¬
public void updateCommentById(String id, RequestUpdateCommentDto requestUpdateCommentDto) {
    Query query = new Query(Criteria.where("_id").is(id)
                                    .and("writerUuid").is(requestUpdateCommentDto.getWriterUuid()));
    Update update = new Update();
    if (requestUpdateCommentDto.getComment() != null) {
        update.set("comment", requestUpdateCommentDto.getComment());
    }
    update.set("updatedAt", Instant.now());

    mongoTemplate.updateFirst(query, update, Comment.class);
}
```

## ğŸ“¡ ì´ë²¤íŠ¸ ì²˜ë¦¬

### Kafka ì´ë²¤íŠ¸

#### ë°œí–‰ ì´ë²¤íŠ¸

-   **CommentCreateEvent**: ëŒ“ê¸€ ìƒì„± ì´ë²¤íŠ¸

    -   `id`: ëŒ“ê¸€ ID
    -   `feedId`: í”¼ë“œ ID
    -   `feedType`: í”¼ë“œ íƒ€ì…
    -   `writerUuid`: ì‘ì„±ì UUID
    -   `writerType`: ì‘ì„±ì íƒ€ì…
    -   `comment`: ëŒ“ê¸€ ë‚´ìš©
    -   `parentCommentId`: ë¶€ëª¨ ëŒ“ê¸€ ID
    -   `createdAt`: ìƒì„± ì‹œê°„

-   **CommentUpdateEvent**: ëŒ“ê¸€ ìˆ˜ì • ì´ë²¤íŠ¸

    -   `id`: ëŒ“ê¸€ ID
    -   `feedId`: í”¼ë“œ ID
    -   `feedType`: í”¼ë“œ íƒ€ì…
    -   `writerUuid`: ì‘ì„±ì UUID
    -   `writerType`: ì‘ì„±ì íƒ€ì…
    -   `comment`: ìˆ˜ì •ëœ ëŒ“ê¸€ ë‚´ìš©
    -   `parentCommentId`: ë¶€ëª¨ ëŒ“ê¸€ ID
    -   `updatedAt`: ìˆ˜ì • ì‹œê°„

-   **CommentDeleteEvent**: ëŒ“ê¸€ ì‚­ì œ ì´ë²¤íŠ¸

    -   `commentId`: ëŒ“ê¸€ ID
    -   `feedId`: í”¼ë“œ ID

-   **CommentDeltaEvent**: ëŒ“ê¸€ ì¦ê° ì´ë²¤íŠ¸
    -   `feedId`: í”¼ë“œ ID
    -   `commentId`: ëŒ“ê¸€ ID
    -   `feedType`: í”¼ë“œ íƒ€ì…
    -   `delta`: ì¦ê° ê°’ (+1: ì¦ê°€, -1: ê°ì†Œ)

### ì´ë²¤íŠ¸ í”„ë¡œë“€ì„œ

-   `CommentCreateEventKafkaProducer`: ëŒ“ê¸€ ìƒì„± ì´ë²¤íŠ¸ ë°œí–‰
-   `CommentUpdateEventKafkaProducer`: ëŒ“ê¸€ ìˆ˜ì • ì´ë²¤íŠ¸ ë°œí–‰
-   `CommentDeleteEventKafkaProducer`: ëŒ“ê¸€ ì‚­ì œ ì´ë²¤íŠ¸ ë°œí–‰
-   `CommentDeltaEventKafkaProducer`: ëŒ“ê¸€ ì¦ê° ì´ë²¤íŠ¸ ë°œí–‰

### Kafka í† í”½

-   `comment-create-event`: ëŒ“ê¸€ ìƒì„± ì´ë²¤íŠ¸ í† í”½
-   `comment-update-event`: ëŒ“ê¸€ ìˆ˜ì • ì´ë²¤íŠ¸ í† í”½
-   `comment-delete-event`: ëŒ“ê¸€ ì‚­ì œ ì´ë²¤íŠ¸ í† í”½
-   `comment-delta-event`: ëŒ“ê¸€ ì¦ê° ì´ë²¤íŠ¸ í† í”½

### ì´ë²¤íŠ¸ ë°œí–‰ ì‹œì 

-   **ëŒ“ê¸€ ìƒì„±**: ì‚¬ìš©ìê°€ ëŒ“ê¸€ ì‘ì„± ì‹œ
-   **ëŒ“ê¸€ ìˆ˜ì •**: ì‚¬ìš©ìê°€ ëŒ“ê¸€ ìˆ˜ì • ì‹œ
-   **ëŒ“ê¸€ ì‚­ì œ**: ì‚¬ìš©ìê°€ ëŒ“ê¸€ ì‚­ì œ ì‹œ

## ğŸ— ì•„í‚¤í…ì²˜

### ë„ë©”ì¸ ì£¼ë„ ì„¤ê³„ (DDD)

-   **Domain Layer**: ëŒ“ê¸€ ë„ë©”ì¸ ëª¨ë¸ê³¼ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
-   **Application Layer**: ëŒ“ê¸€ ì„œë¹„ìŠ¤ ë¡œì§ê³¼ ìœ ìŠ¤ì¼€ì´ìŠ¤
-   **Infrastructure Layer**: ë°ì´í„°ë² ì´ìŠ¤ ì ‘ê·¼ê³¼ ì™¸ë¶€ ì‹œìŠ¤í…œ ì—°ë™
-   **Presentation Layer**: REST API ì—”ë“œí¬ì¸íŠ¸

### ë§ˆì´í¬ë¡œì„œë¹„ìŠ¤ íŒ¨í„´

-   **Service Discovery**: Eureka Clientë¥¼ í†µí•œ ì„œë¹„ìŠ¤ ë“±ë¡
-   **Event-Driven**: Kafkaë¥¼ í†µí•œ ë¹„ë™ê¸° ì´ë²¤íŠ¸ ì²˜ë¦¬
-   **Stateless**: ìƒíƒœ ì—†ëŠ” ì„œë¹„ìŠ¤ ì„¤ê³„

### ë°ì´í„°ë² ì´ìŠ¤ ì„¤ê³„

-   **MongoDB**: ëŒ“ê¸€ ë°ì´í„° ì €ì¥ ë° ê´€ë¦¬

### ì´ë²¤íŠ¸ ê¸°ë°˜ ì•„í‚¤í…ì²˜

-   **ì´ë²¤íŠ¸ ë°œí–‰**: ëŒ“ê¸€ CRUD ì‘ì—… ì‹œ ì´ë²¤íŠ¸ ë°œí–‰
-   **ë¹„ë™ê¸° ì²˜ë¦¬**: Kafkaë¥¼ í†µí•œ ë¹„ë™ê¸° ì´ë²¤íŠ¸ ì²˜ë¦¬
-   **ì´ë²¤íŠ¸ ì†Œì‹±**: ëŒ“ê¸€ ìƒíƒœ ë³€ê²½ ì´ë ¥ ì¶”ì 

## ğŸ”§ ê°œë°œ ê°€ì´ë“œ

### ì½”ë“œ ì»¨ë²¤ì…˜

-   **íŒ¨í‚¤ì§€ êµ¬ì¡°**: ë„ë©”ì¸ë³„ ê³„ì¸µ ë¶„ë¦¬
-   **ë„¤ì´ë°**: ëª…í™•í•˜ê³  ì¼ê´€ëœ ë„¤ì´ë° ê·œì¹™
-   **ì˜ˆì™¸ ì²˜ë¦¬**: BaseExceptionì„ í†µí•œ í†µì¼ëœ ì˜ˆì™¸ ì²˜ë¦¬
-   **ë¡œê¹…**: Slf4jë¥¼ í†µí•œ êµ¬ì¡°í™”ëœ ë¡œê¹…

### í…ŒìŠ¤íŠ¸

```bash
# ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ ì‹¤í–‰
./gradlew test

# í†µí•© í…ŒìŠ¤íŠ¸ ì‹¤í–‰
./gradlew integrationTest
```

### ì˜ˆì™¸ ì²˜ë¦¬

```java
// ëŒ“ê¸€ ê´€ë ¨ ì˜ˆì™¸
public enum BaseResponseStatus {
    COMMENT_NOT_FOUND("ëŒ“ê¸€ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤."),
    COMMENT_CREATE_FAIL("ëŒ“ê¸€ ìƒì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤."),
    NO_EXIST_COMMENT_OR_NO_AUTH("ëŒ“ê¸€ì´ ì¡´ì¬í•˜ì§€ ì•Šê±°ë‚˜ ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤.");
}
```

### ì„±ëŠ¥ ìµœì í™”

#### ë°ì´í„°ë² ì´ìŠ¤ ìµœì í™”

-   **ì¸ë±ì‹±**: ìì£¼ ì¡°íšŒë˜ëŠ” í•„ë“œì— ì¸ë±ìŠ¤ ì„¤ì •
-   **ë°°ì¹˜ ì²˜ë¦¬**: ëŒ€ëŸ‰ ë°ì´í„° ì²˜ë¦¬ ì‹œ ë°°ì¹˜ ì‚¬ìš©
-   **ì»¤ìŠ¤í…€ ì¿¼ë¦¬**: ë³µì¡í•œ ì¿¼ë¦¬ëŠ” MongoTemplate ì‚¬ìš©

#### Kafka ìµœì í™”

-   **ë°°ì¹˜ ì „ì†¡**: ë©”ì‹œì§€ ë°°ì¹˜ ì²˜ë¦¬
-   **íŒŒí‹°ì…˜ ê´€ë¦¬**: í† í”½ íŒŒí‹°ì…˜ ìµœì í™”
-   **ì»¨ìŠˆë¨¸ ê·¸ë£¹**: ì»¨ìŠˆë¨¸ ê·¸ë£¹ ì„¤ì •

## ğŸ“Š ëª¨ë‹ˆí„°ë§

### ë¡œê¹…

-   **ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œê·¸**: Spring Boot ë¡œê¹…
-   **ëŒ“ê¸€ ë¡œê·¸**: ëŒ“ê¸€ CRUD ì‘ì—… ë¡œê¹…
-   **Kafka ë¡œê·¸**: ì´ë²¤íŠ¸ ë°œí–‰ ë¡œê¹…
-   **ë°ì´í„°ë² ì´ìŠ¤ ë¡œê·¸**: ì¿¼ë¦¬ ì„±ëŠ¥ ë¡œê¹…

### ë©”íŠ¸ë¦­

-   **ëŒ“ê¸€ ì²˜ë¦¬ëŸ‰**: ì´ˆë‹¹ ì²˜ë¦¬ ëŒ“ê¸€ ìˆ˜
-   **ì‘ë‹µ ì‹œê°„**: API ì‘ë‹µ ì‹œê°„
-   **ì—ëŸ¬ìœ¨**: ì—ëŸ¬ ë°œìƒë¥ 
-   **Kafka ë©”ì‹œì§€**: ì´ë²¤íŠ¸ ë°œí–‰ ì„±ê³µë¥ 

### ì•Œë¦¼

-   **ëŒ“ê¸€ ìƒì„± ì‹¤íŒ¨**: ëŒ“ê¸€ ìƒì„± ì‹¤íŒ¨ ì•Œë¦¼
-   **ë°ì´í„°ë² ì´ìŠ¤ ì˜¤ë¥˜**: DB ì—°ê²° ì˜¤ë¥˜ ì•Œë¦¼
-   **Kafka ì˜¤ë¥˜**: ë©”ì‹œì§€ ì „ì†¡ ì‹¤íŒ¨ ì•Œë¦¼

## ğŸš¨ íŠ¸ëŸ¬ë¸”ìŠˆíŒ…

### ì¼ë°˜ì ì¸ ë¬¸ì œ

#### MongoDB ì—°ê²° ì‹¤íŒ¨

```bash
# MongoDB ì—°ê²° í™•ì¸
mongo mongodb://vybz:<ë¹„ë°€ë²ˆí˜¸>@<íƒ„ë ¥ì  IP>:27020/vybz?authSource=admin&replicaSet=myReplicaSet

# ë³µì œë³¸ ì„¸íŠ¸ ìƒíƒœ í™•ì¸
rs.status()
```

#### Kafka ì—°ê²° ì‹¤íŒ¨

```bash
# Kafka ë¸Œë¡œì»¤ ìƒíƒœ í™•ì¸
kafka-topics.sh --bootstrap-server <íƒ„ë ¥ì  IP>:10000 --list

# í† í”½ ìƒì„¸ ì •ë³´ í™•ì¸
kafka-topics.sh --bootstrap-server <íƒ„ë ¥ì  IP>:10000 --describe --topic comment-create-event
```

#### Eureka ì—°ê²° ì‹¤íŒ¨

```bash
# Eureka ì„œë²„ ìƒíƒœ í™•ì¸
curl http://eureka:8761/eureka/apps/comment-service

# ì„œë¹„ìŠ¤ ë“±ë¡ í™•ì¸
curl http://eureka:8761/eureka/apps
```

### ë¡œê·¸ í™•ì¸

```bash
# ì• í”Œë¦¬ì¼€ì´ì…˜ ë¡œê·¸ í™•ì¸
tail -f logs/application.log

# ì—ëŸ¬ ë¡œê·¸ í™•ì¸
grep "ERROR" logs/application.log

# Kafka ë¡œê·¸ í™•ì¸
grep "Kafka" logs/application.log
```

## ğŸ“ ë¼ì´ì„ ìŠ¤

ì´ í”„ë¡œì íŠ¸ëŠ” VYBZ íŒ€ì˜ ë‚´ë¶€ í”„ë¡œì íŠ¸ì…ë‹ˆë‹¤.

## ğŸ‘¥ íŒ€

-   **ê°œë°œíŒ€**: VYBZ Backend Team

---

**VYBZ Comment Service** - MongoDB ê¸°ë°˜ ëŒ“ê¸€ ê´€ë¦¬ ì„œë¹„ìŠ¤
